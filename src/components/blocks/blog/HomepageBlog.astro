---
import Section from '../../ui/Section.astro'
import Row from '../../ui/Row.astro'
import Col from '../../ui/Col.astro'
import { getCollection } from 'astro:content'
import BlogPosts from './BlogPosts.astro'

const allPosts = await getCollection('news')

const sortedPosts = allPosts
	.sort((a: any, b: any) => {
		return new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime()
	})
	.slice(0, 3)
---

<Section padding="top" stickyCol={true}>
	<Row>
		<Col span="12" align="center" classes="max-w-4xl mx-auto">
			<h2 class="text-pretty">News</h2>
			<!-- <p class="pb-0 text-lg">Ecco le ultime novit√† riguardanti la RIASISSU</p> -->
		</Col>
	</Row>
	<BlogPosts data={sortedPosts} />
</Section>
